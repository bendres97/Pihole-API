---
version: "3"

services:
  pihole-api:
    image: bryanendres/pihole-api
    ports:
      - $HOST_PORT:$CONTAINER_PORT
    environment:
      - CONTAINER_PORT=$CONTAINER_PORT
      - HOST_IP=$HOST_IP
      - OTEL_TRACES_EXPORTER=$OTEL_TRACES_EXPORTER
      - OTEL_EXPORTER_OTLP_ENDPOINT=$OTEL_EXPORTER_OTLP_ENDPOINT
      - OTEL_RESOURCE_ATTRIBUTES=$OTEL_RESOURCE_ATTRIBUTES
      - OTEL_METRICS_EXPORTER=$OTEL_METRICS_EXPORTER
      - OTEL_PYTHON_LOG_CORRELATION=$OTEL_PYTHON_LOG_CORRELATION
      - OTEL_PYTHON_LOG_LEVEL=$OTEL_PYTHON_LOG_LEVEL
    restart: unless-stopped
    container_name: pihole-api
    volumes:
      - $DATA_DIR:/data
